---
layout: post
title: "HTTP POST和GET区别"
description: "HTTP POST和GET区别"
categories: [Spring,Interview]
tags: [Spring]
redirect_from:
  - /2018/4/17/
---

> 面试常见问题关于HTTP的POST和GET方法的区别

* Kramdown table of contents
{:toc .toc}

# HTTP常见的请求方式
> 根据HTTP标准，HTTP请求可以使用多种请求方式
> * HTTP 1.0定义了三种请求方式：GET，POST和HEAD方法
> * HTTP 1.1新增了五种请求方式：OPTION，PUT，DELETE，TRACE和CONNECT方法

* Table 1
	|--------+--------+---------------------------------------------------------------------|
	| 序号   |   方法 | 描述                                                                |
	|--------|:-------|:--------------------------------------------------------------------|
	|  1     |  GET   |    请求指定的页面信息，并返回实体主体                               |
	|  2     |  HEAD  |    类似get请求，用于获取报头                                        |
	|  3     |  POST  |    提交数据处理请求(例如表单提交或者文件上传)，数据被包含在请求体中 |
	|  4     |  PUT   |    从客户端想服务器传送数据更新内容                                 |
	|  5     |  DELETE|    请求服务器删除指定的页面                                         |
	|  6     | CONNECT|    预留给能够将连接改为管道方式的代理服务器                         |
	|  7     | OPTIONS|    允许客户端查看服务器性能                                         |
	|  8     |  TRACE |    回显服务器收到的请求，主要用于测试或诊断                         |
	|--------+--------+---------------------------------------------------------------------|

# GET和POST的常规区别

* Table 2
    |---
	| 方法   | GET    | POST |
	|--------|:-------|:-----|
	|  后退/刷新 |  幂等的无害 |    数据会被重新提交 |
	|  书签 |  可收藏为书签 |    不能收藏为书签 |
	|  缓存 |  能被缓存 |    不能被缓存 |
	|  编码类型 |  application/x-www-form-urlencoded	 |    application/x-www-form-urlencoded 或 multipart/form-data。为二进制数据使用多重编码。 |
	|  历史 |  保留在历史记录中 |    不保留在历史记录中 |
	|  数据大小限制 |  2048个字符 |    无限制 |
	|  数据类型限制 |  只允许 ASCII 字符 |    没有限制。也允许二进制数据。 |
	|  安全性 |  发送的数据是 URL 的一部分。在发送密码或其他敏感信息时绝不要使用 GET |    POST 比 GET 更安全，因为参数不会被保存在浏览器历史或 web 服务器日志中 |
	|  可见性 |  数据在 URL 中对所有人都是可见的 |    数据不会显示在 URL 中 |


# 从TCP连接方式上的区别
有一篇文章[99%的人理解错 HTTP 中 GET 与 POST 的区别](https://mp.weixin.qq.com/s?__biz=MzI3NzIzMzg3Mw==&mid=100000054&idx=1&sn=71f6c214f3833d9ca20b9f7dcd9d33e4#rd)，否定了上述回答：“很遗憾，这不是我们要的回答！”，作者说：

> GET和POST本质上就是TCP链接，并无差别。但是由于HTTP的规定和浏览器/服务器的限制，导致他们在应用过程中体现出一些不同。 GET和POST还有一个重大区别，简单的说：GET产生一个TCP数据包；POST产生两个TCP数据包。对于GET方式的请求，浏览器会把http header和data一并发送出去，服务器响应200（返回数据）； 而对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok（返回数据）。

# 从规范上的区别
RFC7231里紧接着定义了HTTP方法的几个特性：

* 1.Safe - 安全

这里的「安全」和通常理解的「安全」意义不同，如果一个方法的语义在本质上是「只读」的，那么这个方法就是安全的。客户端向服务端的资源发起的请求如果使用了是安全的方法，就不应该引起服务端任何的状态变化，因此也是无害的。 此RFC定义，GET, HEAD, OPTIONS 和 TRACE 这几个方法是安全的。
但是这个定义只是规范，并不能保证方法的实现也是安全的，服务端的实现可能会不符合方法语义，正如上文说过的使用GET修改用户信息的情况。
引入安全这个概念的目的是为了方便网络爬虫和缓存，以免调用或者缓存某些不安全方法时引起某些意外的后果。User Agent（浏览器）应该在执行安全和不安全方法时做出区分对待，并给用户以提示。
* 2.Idempotent - 幂等

幂等的概念是指同一个请求方法执行多次和仅执行一次的效果完全相同。按照RFC规范，PUT，DELETE和安全方法都是幂等的。同样，这也仅仅是规范，服务端实现是否幂等是无法确保的。
引入幂等主要是为了处理同一个请求重复发送的情况，比如在请求响应前失去连接，如果方法是幂等的，就可以放心地重发一次请求。这也是浏览器在后退/刷新时遇到POST会给用户提示的原因：POST语义不是幂等的，重复请求可能会带来意想不到的后果。
* 3.Cacheable - 可缓存性

顾名思义就是一个方法是否可以被缓存，此RFC里GET，HEAD和某些情况下的POST都是可缓存的，但是绝大多数的浏览器的实现里仅仅支持GET和HEAD。关于缓存的更多内容可以去看RFC7234。
